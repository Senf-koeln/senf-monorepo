{"version":3,"file":"react-map-gl-draw.esm.js","sources":["../src/components/Draw/react-map-gl.esm.js","../node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js","../src/components/Draw/index.js"],"sourcesContent":["/*eslint-disable*/\nimport{createContext as t,createElement as e,PureComponent as o,Children as r,cloneElement as n,createRef as i}from\"react\";import a from\"mapbox-gl\";import{createPortal as s}from\"react-dom\";function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){f(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,o){return e&&c(t.prototype,e),o&&c(t,o),t}function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function d(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){if(null==t)return{};var o,r,n=function(t,e){if(null==t)return{};var o,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||(n[o]=t[o]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function g(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function _(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return g(t)}function b(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=m(t);if(e){var n=m(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _(this,o)}}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null==o)return;var r,n,i=[],a=!0,s=!1;try{for(o=o.call(t);!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,n=t}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||S(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function k(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||S(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function S(t,e){if(t){if(\"string\"==typeof t)return x(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===o&&t.constructor&&(o=t.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(t):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var L=t(null),C=a,T=[\"resize\",\"remove\",\"mousedown\",\"mouseup\",\"mouseover\",\"mousemove\",\"click\",\"dblclick\",\"mouseenter\",\"mouseleave\",\"mouseout\",\"contextmenu\",\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\",\"movestart\",\"move\",\"moveend\",\"dragstart\",\"drag\",\"dragend\",\"zoomstart\",\"zoom\",\"zoomend\",\"rotatestart\",\"rotate\",\"rotateend\",\"pitchstart\",\"pitch\",\"pitchend\",\"boxzoomstart\",\"boxzoomend\",\"boxzoomcancel\",\"webglcontextlost\",\"webglcontextrestored\",\"load\",\"error\",\"data\",\"styledata\",\"sourcedata\",\"dataloading\",\"styledataloading\",\"sourcedataloading\"];var O=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(var o=0;o<t.length;o+=1)if(t[o]!==e[o])return!1;return!0},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new Set([].concat(k(Object.keys(t)),k(Object.keys(e))));return k(o).reduce((function(o,r){var n=t[r];return n!==e[r]&&o.push([r,n]),o}),[])},D=function(t,e,o,r){var n={layers:[e]};if(r){var i=[[o[0]-r,o[1]-r],[o[0]+r,o[1]+r]];return t.queryRenderedFeatures(i,n)}return t.queryRenderedFeatures(o,n)},P=[\"before\",\"radius\",\"onClick\",\"onHover\",\"onEnter\",\"onLeave\"],A=[\"id\",\"before\",\"onClick\"],U=[[\"onClick\",\"click\"],[\"onHover\",\"mousemove\"],[\"onEnter\",\"mouseenter\"],[\"onLeave\",\"mouseleave\"]],M=function(t){d(n,o);var r=b(n);function n(t){var e;return p(this,n),f(g(e=r.call(this,t)),\"$key\",void 0),f(g(e),\"$value\",void 0),f(g(e),\"_id\",void 0),f(g(e),\"_map\",void 0),f(g(e),\"_onClick\",void 0),f(g(e),\"_onHover\",void 0),f(g(e),\"_onEnter\",void 0),f(g(e),\"_onLeave\",void 0),f(g(e),\"_addLayer\",(function(t){var o=e._map,r=t.before;t.radius,t.onClick,t.onHover,t.onEnter,t.onLeave;var n=v(t,P);r&&o.getLayer(r)?o.addLayer(n,r):o.addLayer(n),e._addEventListeners(t)})),f(g(e),\"_addEventListeners\",(function(t){U.forEach((function(o){var r=w(o,2),n=r[0],i=r[1],a=\"_\".concat(n);t[n]&&e._map.on(i,e._id,e[a])}))})),f(g(e),\"_updateEventListeners\",(function(t,o){U.forEach((function(r){var n=w(r,2),i=n[0],a=n[1],s=\"_\".concat(i);!o[i]&&t[i]&&e._map.off(a,e._id,e[s]),o[i]&&!t[i]&&e._map.on(a,e._id,e[s])}))})),f(g(e),\"_removeEventListeners\",(function(t){U.forEach((function(o){var r=w(o,2),n=r[0],i=r[1],a=\"_\".concat(n);t[n]&&e._map.off(i,e._id,e[a])}))})),f(g(e),\"_onClick\",(function(t){var o=[t.point.x,t.point.y],r=D(e._map,e._id,o,e.props.radius);e.props.onClick(u(u({},t),{},{features:r}))})),f(g(e),\"_onHover\",(function(t){var o=[t.point.x,t.point.y],r=D(e._map,e._id,o,e.props.radius);e.props.onHover(u(u({},t),{},{features:r}))})),f(g(e),\"_onEnter\",(function(t){var o=[t.point.x,t.point.y],r=D(e._map,e._id,o,e.props.radius);e.props.onEnter(u(u({},t),{},{features:r}))})),f(g(e),\"_onLeave\",(function(t){var o=[t.point.x,t.point.y],r=D(e._map,e._id,o,e.props.radius);e.props.onLeave(u(u({},t),{},{features:r}))})),e._id=t.id,e}return h(n,[{key:\"componentDidMount\",value:function(){this._addLayer(this.props)}},{key:\"componentDidUpdate\",value:function(t){var e=this,o=this._map,r=this.props,n=r.id,i=r.before;r.onClick;var a=v(r,A);if(n!==t.id||this.props.type!==t.type||\"background\"!==t.type&&(this.props.source!==t.source||this.props[\"source-layer\"]!==t[\"source-layer\"]))return this._id=n,this._map.removeLayer(t.id),void this._addLayer(this.props);i!==t.before&&i&&o.getLayer(i)&&o.moveLayer(this._id,i),a.paint!==t.paint&&E(a.paint,t.paint).forEach((function(t){var r=w(t,2),n=r[0],i=r[1];o.setPaintProperty(e._id,n,i)})),a.layout!==t.layout&&E(a.layout,t.layout).forEach((function(t){var r=w(t,2),n=r[0],i=r[1];o.setLayoutProperty(e._id,n,i)})),a.filter!==t.filter&&(a.filter?o.setFilter(this._id,a.filter):o.setFilter(this._id,void 0)),this._updateEventListeners(t,this.props)}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&(this._removeEventListeners(this.props),this._map.getLayer(this._id)&&this._map.removeLayer(this._id))}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(M,\"displayName\",\"Layer\"),f(M,\"defaultProps\",{radius:0});var I=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_id\",void 0),f(g(t),\"_map\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.layer,o=t.before;o&&this._map.getLayer(o)?this._map.addLayer(e,o):this._map.addLayer(e),this._id=e.id}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.getLayer(this._id)&&this._map.removeLayer(this._id)}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(I,\"displayName\",\"CustomLayer\");var z=[M,I],R=function(t){return z.includes(t.type)},F=function t(e,o){r.forEach(o,(function(o){o&&(R(o)&&e(o),o.props&&o.props.children&&t(e,o.props.children))}))},B=function(t){var e=[];return F((function(t){t.props.before||e.push(function(t){return t.props.id||t.props.layer.id}(t))}),t),e},W=function(t){d(s,o);var a=b(s);function s(t){var e;return p(this,s),f(g(e=a.call(this,t)),\"_map\",void 0),f(g(e),\"_container\",void 0),f(g(e),\"state\",{loaded:!1}),f(g(e),\"_onViewportChange\",(function(t){if(t.originalEvent){var o=e._map,r=o.getCenter(),n=r.lng,i={latitude:r.lat,longitude:n,zoom:o.getZoom(),pitch:o.getPitch(),bearing:o.getBearing()};e.props.onViewportChange(i)}})),C&&(C.accessToken=t.accessToken),e._container=i(),e}return h(s,[{key:\"componentDidMount\",value:function(){var t=this;if(C){var e=this._container.current,o=new C.Map({container:e,style:this.props.mapStyle,interactive:!!this.props.onViewportChange,center:[this.props.longitude,this.props.latitude],zoom:this.props.zoom,pitch:this.props.pitch,bearing:this.props.bearing,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,hash:this.props.hash,bearingSnap:this.props.bearingSnap,pitchWithRotate:this.props.pitchWithRotate,attributionControl:this.props.attributionControl,logoPosition:this.props.logoPosition,failIfMajorPerformanceCaveat:this.props.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.props.preserveDrawingBuffer,antialias:this.props.antialias,refreshExpiredTiles:this.props.refreshExpiredTiles,maxBounds:this.props.maxBounds,bounds:this.props.bounds,scrollZoom:this.props.scrollZoom,boxZoom:this.props.boxZoom,dragRotate:this.props.dragRotate,dragPan:this.props.dragPan,keyboard:this.props.keyboard,doubleClickZoom:this.props.doubleClickZoom,trackResize:this.props.trackResize,renderWorldCopies:this.props.renderWorldCopies,maxTileCacheSize:this.props.maxTileCacheSize,localIdeographFontFamily:this.props.localIdeographFontFamily,transformRequest:this.props.transformRequest,collectResourceTiming:this.props.collectResourceTiming,fadeDuration:this.props.fadeDuration,crossSourceCollisions:this.props.crossSourceCollisions,locale:this.props.locale});this._map=o,o.once(\"load\",(function(){t.setState({loaded:!0},t.props.onLoad)})),this.props.onViewportChange&&(o.on(\"dragend\",this._onViewportChange),o.on(\"zoomend\",this._onViewportChange),o.on(\"rotateend\",this._onViewportChange),o.on(\"pitchend\",this._onViewportChange),o.on(\"boxzoomend\",this._onViewportChange)),T.forEach((function(e){var r=\"on\".concat(O(e)),n=t.props[r];n&&(Array.isArray(n)?o.on.apply(o,[e].concat(k(n))):o.on(e,n))})),this.props.cursorStyle&&(o.getCanvas().style.cursor=this.props.cursorStyle),this.props.showTileBoundaries&&(this._map.showTileBoundaries=this.props.showTileBoundaries)}}},{key:\"componentDidUpdate\",value:function(t){this._updateMapViewport(t,this.props),this._updateMapStyle(t,this.props),this._updateMapSize(t,this.props),this._updateMapEventListeners(t,this.props),!t.cursorStyle!==this.props.cursorStyle&&(this._map.getCanvas().style.cursor=this.props.cursorStyle),t.showTileBoundaries!==this.props.showTileBoundaries&&(this._map.showTileBoundaries=!!this.props.showTileBoundaries)}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.remove()}},{key:\"getMap\",value:function(){return this._map}},{key:\"_updateMapEventListeners\",value:function(t,e){var o=this;T.forEach((function(r){var n=\"on\".concat(O(r)),i=t[n],a=e[n];if(!(Array.isArray(i)&&Array.isArray(a)&&j(i,a)||i===a)){var s,l;if(i)if(Array.isArray(i))(s=o._map).off.apply(s,[r].concat(k(i)));else o._map.off(r,i);if(a)if(Array.isArray(a))(l=o._map).on.apply(l,[r].concat(k(a)));else o._map.on(r,a)}}))}},{key:\"_updateMapStyle\",value:function(t,e){var o=this,r=e.mapStyle,n=t.mapStyle;r!==n&&this.setState({loaded:!1},(function(){o._map.setStyle(r),o._map.once(\"style.load\",(function(){return o.setState({loaded:!0})}))}))}},{key:\"_updateMapViewport\",value:function(t,e){var o=this._map,r=o.getCenter();if(e.latitude!==t.latitude&&e.latitude!==r.lat||e.longitude!==t.longitude&&e.longitude!==r.lng||e.zoom!==t.zoom&&e.zoom!==o.getZoom()||e.pitch!==t.pitch&&e.pitch!==o.getPitch()||e.bearing!==t.bearing&&e.bearing!==o.getBearing()){var n={center:[e.longitude,e.latitude],zoom:e.zoom,pitch:e.pitch,bearing:e.bearing},i=this.props,a=i.viewportChangeMethod,s=u(u({},i.viewportChangeOptions),n);switch(a){case\"flyTo\":o.flyTo(s);break;case\"jumpTo\":o.jumpTo(s);break;case\"easeTo\":o.easeTo(s);break;default:throw new Error(\"Unknown viewport change method\")}}}},{key:\"_updateMapSize\",value:function(t,e){((t.style&&t.style.height)!==(e.style&&e.style.height)||(t.style&&t.style.width)!==(e.style&&e.style.width))&&this._map.resize()}},{key:\"render\",value:function(){var t=this.state.loaded,o=this.props,i=o.className,a=o.style,s=this.props.children?function(t){var e=B(t);return e.shift(),function t(o){return\"function\"==typeof o?o:r.map(o,(function(o){if(!o)return o;if(R(o)){var r=o.props.before||e.shift();return n(o,{before:r})}return o.props&&o.props.children?n(o,{children:t(o.props.children)}):o}))}(t)}(this.props.children):null;return e(L.Provider,{value:this._map},e(\"div\",{ref:this._container,style:a,className:i},t&&s))}}]),s}();f(W,\"displayName\",\"MapGL\"),f(W,\"defaultProps\",{children:null,className:null,style:null,mapStyle:\"mapbox://styles/mapbox/light-v8\",accessToken:null,bearing:0,pitch:0,minZoom:0,maxZoom:22,maxBounds:null,bounds:null,hash:!1,bearingSnap:7,pitchWithRotate:!0,attributionControl:!0,logoPosition:\"bottom-left\",failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,antialias:!1,refreshExpiredTiles:!0,boxZoom:!0,scrollZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,trackResize:!0,renderWorldCopies:!0,maxTileCacheSize:null,onViewportChange:null,onLoad:null,localIdeographFontFamily:null,transformRequest:null,collectResourceTiming:!1,fadeDuration:300,crossSourceCollisions:!0,locale:null,cursorStyle:null,viewportChangeMethod:\"jumpTo\",viewportChangeOptions:null});var N=function(t){switch(t.type){case\"vector\":return u({type:\"vector\"},t);case\"raster\":return u({type:\"raster\"},t);case\"raster-dem\":return u({type:\"raster-dem\"},t);case\"geojson\":return u({type:\"geojson\"},t);case\"video\":return u({type:\"video\"},t);case\"image\":return u({type:\"image\"},t);default:throw new Error(\"Unknown type for '\".concat(t.id,\"' Source\"))}},Z=[\"id\",\"children\"],V=[\"id\",\"children\"],$=[\"id\",\"children\"],q=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"state\",{loaded:!1}),f(g(t),\"_onSourceData\",(function(){t._map.isSourceLoaded(t.props.id)&&(t._map.off(\"sourcedata\",t._onSourceData),t.setState({loaded:!0}))})),f(g(t),\"_updateGeoJSONSource\",(function(e,o,r){if(r.data!==o.data){var n=t._map.getSource(e);void 0!==n&&n.setData(r.data)}})),f(g(t),\"_updateImageSource\",(function(e,o,r){if(r.url!==o.url||r.coordinates!==o.coordinates){var n=t._map.getSource(e);void 0!==n&&n.updateImage(r)}})),f(g(t),\"_updateTileSource\",(function(e,o,r){if(r.url!==o.url||!j(r.tiles,o.tiles)){var n=t._map.getSource(e);n._tileJSONRequest&&n._tileJSONRequest.cancel(),n.url=r.url,n.scheme=r.scheme,n._options=u(u({},n._options),r);var i=t._map.style.sourceCaches[e];i&&i.clearTiles(),n.load()}})),f(g(t),\"_removeSource\",(function(){var e=t.props.id;if(t._map.getSource(e)){var o=t._map.getStyle().layers;o&&o.forEach((function(o){o.source===e&&t._map.removeLayer(o.id)})),t._map.removeSource(e)}})),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.id;t.children;var o=v(t,Z),r=N(o);this._map.addSource(e,r),this._map.on(\"sourcedata\",this._onSourceData)}},{key:\"componentDidUpdate\",value:function(t){var e=t.id;t.children;var o=v(t,V),r=N(o),n=this.props,i=n.id;n.children;var a=v(n,$),s=N(a);if(i!==e||s.type!==r.type)return this._map.removeSource(e),void this._map.addSource(i,s);\"geojson\"!==s.type||\"geojson\"!==r.type?\"image\"!==s.type||\"image\"!==r.type?\"vector\"!==s.type||\"vector\"!==r.type?\"raster\"===s.type&&\"raster\"===r.type&&this._updateTileSource(i,r,s):this._updateTileSource(i,r,s):this._updateImageSource(i,r,s):this._updateGeoJSONSource(i,r,s)}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._removeSource()}},{key:\"render\",value:function(){var t=this,o=this.state.loaded,r=this.props.children;return e(L.Consumer,{},(function(e){return e&&(t._map=e),o&&r}))}}]),n}();f(q,\"displayName\",\"Source\");var H=function(t){d(n,o);var r=b(n);function n(t){var e;return p(this,n),f(g(e=r.call(this,t)),\"_map\",void 0),f(g(e),\"_el\",void 0),f(g(e),\"_popup\",void 0),e._el=document.createElement(\"div\"),e}return h(n,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.longitude,o=t.latitude,r=t.offset,n=t.closeButton,i=t.closeOnClick,a=t.onClose,s=t.anchor,l=t.className,u=t.maxWidth;this._popup=new C.Popup({offset:r,closeButton:n,closeOnClick:i,anchor:s,className:l,maxWidth:u}),this._popup.setDOMContent(this._el),this._popup.setLngLat([e,o]).addTo(this._map),a&&this._popup.on(\"close\",a)}},{key:\"componentDidUpdate\",value:function(t){(t.latitude!==this.props.latitude||t.longitude!==this.props.longitude)&&this._popup.setLngLat([this.props.longitude,this.props.latitude])}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._popup.remove()}},{key:\"getPopup\",value:function(){return this._popup}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),s(t.props.children,t._el)}))}}]),n}();f(H,\"displayName\",\"Popup\"),f(H,\"defaultProps\",{closeButton:!0,closeOnClick:!0,onClose:null,anchor:null,offset:null,className:null,maxWidth:\"240px\"});var G=function(t){d(n,o);var r=b(n);function n(t){var e;return p(this,n),f(g(e=r.call(this,t)),\"_map\",void 0),f(g(e),\"_el\",void 0),f(g(e),\"_marker\",void 0),f(g(e),\"_onDragEnd\",(function(){e.props.onDragEnd(e._marker.getLngLat())})),f(g(e),\"_onDragStart\",(function(){e.props.onDragStart(e._marker.getLngLat())})),f(g(e),\"_onDrag\",(function(){e.props.onDrag(e._marker.getLngLat())})),e._el=document.createElement(\"div\"),e}return h(n,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.longitude,o=t.latitude,r=t.onClick,n=t.onDragEnd,i=t.onDragStart,a=t.onDrag;this._marker=new C.Marker({element:this._el,anchor:this.props.anchor,draggable:this.props.draggable,offset:this.props.offset,rotation:this.props.rotation,pitchAlignment:this.props.pitchAlignment,rotationAlignment:this.props.rotationAlignment}),this._marker.setLngLat([e,o]).addTo(this._map),r&&this._el.addEventListener(\"click\",r),n&&this._marker.on(\"dragend\",this._onDragEnd),i&&this._marker.on(\"dragstart\",this._onDragStart),a&&this._marker.on(\"drag\",this._onDrag)}},{key:\"componentDidUpdate\",value:function(t){(t.latitude!==this.props.latitude||t.longitude!==this.props.longitude)&&this._marker.setLngLat([this.props.longitude,this.props.latitude])}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&(this.props.onClick&&this._el.removeEventListener(\"click\",this.props.onClick),this._marker.remove())}},{key:\"getMarker\",value:function(){return this._marker}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),s(t.props.children,t._el)}))}}]),n}();f(G,\"displayName\",\"Marker\"),f(G,\"defaultProps\",{anchor:\"center\",offset:null,draggable:!1,rotation:0,pitchAlignment:\"auto\",rotationAlignment:\"auto\"});var J=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.id,r=e.source,n=e.sourceLayer,i=e.state;t.setFeatureState({id:o,source:r,sourceLayer:n},i)}},{key:\"componentDidUpdate\",value:function(t){var e=this._map,o=this.props,r=o.id,n=o.source,i=o.sourceLayer,a=o.state;r===t.id&&n===t.source&&i===t.sourceLayer&&a===t.state||(e.removeFeatureState({id:t.id,source:t.source,sourceLayer:t.sourceLayer}),e.setFeatureState({id:r,source:n,sourceLayer:i},a))}},{key:\"componentWillUnmount\",value:function(){if(this._map&&this._map.getStyle()){var t=this.props,e=t.id,o=t.source,r=t.sourceLayer;this._map.removeFeatureState({id:e,source:o,sourceLayer:r})}}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}(),K=function(t){d(n,o);var r=b(n);function n(t){var e;return p(this,n),f(g(e=r.call(this,t)),\"_map\",void 0),f(g(e),\"_id\",void 0),f(g(e),\"_loadImage\",(function(t,o){\"string\"!=typeof t?o(t):e._map.loadImage(t,(function(t,e){if(t)throw t;o(e)}))})),e._id=t.id,e}return h(n,[{key:\"componentDidMount\",value:function(){var t=this,e=this.props,o=e.image,r=e.pixelRatio,n=e.sdf;this._loadImage(o,(function(e){return t._map.addImage(t._id,e,{pixelRatio:r,sdf:n})}))}},{key:\"componentDidUpdate\",value:function(t){var e=this,o=this.props,r=o.id,n=o.image,i=o.pixelRatio,a=o.sdf;if(r!==t.id||a!==t.sdf||i!==t.pixelRatio)return this._id=r,this._map.removeImage(t.id),void this._loadImage(n,(function(t){return e._map.addImage(e._id,t,{pixelRatio:i,sdf:a})}));n!==t.image&&this._loadImage(n,(function(t){return e._map.updateImage(e._id,t)}))}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.hasImage(this._id)&&this._map.removeImage(this._id)}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(K,\"defaultProps\",{pixelRatio:1,sdf:!1});var Q=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.compact,r=e.customAttribution,n=e.position,i=new C.AttributionControl({compact:o,customAttribution:r});t.addControl(i,n),this._control=i}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(Q,\"defaultProps\",{position:\"bottom-right\"});var X=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.container,r=e.position,n=new C.FullscreenControl({container:o});t.addControl(n,r),this._control=n}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(X,\"defaultProps\",{position:\"top-right\"});var Y=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.positionOptions,r=e.fitBoundsOptions,n=e.trackUserLocation,i=e.showUserLocation,a=e.position,s=e.onTrackUserLocationEnd,l=e.onTrackUserLocationStart,u=e.onError,p=e.onGeolocate,c=new C.GeolocateControl({positionOptions:o,fitBoundsOptions:r,trackUserLocation:n,showUserLocation:i});s&&c.on(\"trackuserlocationend\",s),l&&c.on(\"trackuserlocationstart\",l),u&&c.on(\"error\",u),p&&c.on(\"geolocate\",p),t.addControl(c,a),this._control=c}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(Y,\"defaultProps\",{positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0});var tt=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.showCompass,r=e.showZoom,n=e.visualizePitch,i=e.position,a=new C.NavigationControl({showCompass:o,showZoom:r,visualizePitch:n});t.addControl(a,i),this._control=a}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(tt,\"defaultProps\",{showCompass:!0,showZoom:!0,visualizePitch:!1,position:\"top-right\"});var et=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.maxWidth,r=e.unit,n=e.position,i=new C.ScaleControl({maxWidth:o,unit:r});t.addControl(i,n),this._control=i}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();function ot(t,e){return t(e={exports:{}},e.exports),e.exports}f(et,\"defaultProps\",{position:\"bottom-right\",unit:\"metric\"});var rt=ot((function(t){function e(t){if(t=Object.assign({},t),!(this instanceof e))throw new Error(\"MapboxLanguage needs to be called with the new keyword\");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=t.defaultLanguage,this._isLanguageField=t.languageField||/^\\{name/,this._getLanguageField=t.getLanguageField||function(t){return\"mul\"===t?\"{name}\":\"{name_\"+t+\"}\"},this._languageSource=t.languageSource||null,this._languageTransform=t.languageTransform||function(t,e){return\"ar\"===e?function(t){var e=t.layers.map((function(t){if(!(t.layout||{})[\"text-field\"])return t;var e=0;return Object.assign({},t,{layout:Object.assign({},t.layout,{\"text-letter-spacing\":e})})}));return Object.assign({},t,{layers:e})}(t):function(t){var e=t.layers.map((function(t){if(!(t.layout||{})[\"text-field\"])return t;var e=0;return\"state_label\"===t[\"source-layer\"]&&(e=.15),\"marine_label\"===t[\"source-layer\"]&&(/-lg/.test(t.id)&&(e=.25),/-md/.test(t.id)&&(e=.15),/-sm/.test(t.id)&&(e=.1)),\"place_label\"===t[\"source-layer\"]&&(/-suburb/.test(t.id)&&(e=.15),/-neighbour/.test(t.id)&&(e=.1),/-islet/.test(t.id)&&(e=.01)),\"airport_label\"===t[\"source-layer\"]&&(e=.01),\"rail_station_label\"===t[\"source-layer\"]&&(e=.01),\"poi_label\"===t[\"source-layer\"]&&/-scalerank/.test(t.id)&&(e=.01),\"road_label\"===t[\"source-layer\"]&&(/-label-/.test(t.id)&&(e=.01),/-shields/.test(t.id)&&(e=.05)),Object.assign({},t,{layout:Object.assign({},t.layout,{\"text-letter-spacing\":e})})}));return Object.assign({},t,{layers:e})}(t)},this._excludedLayerIds=t.excludedLayerIds||[],this.supportedLanguages=t.supportedLanguages||[\"ar\",\"en\",\"es\",\"fr\",\"de\",\"ja\",\"ko\",\"mul\",\"pt\",\"ru\",\"zh\"]}function o(t,e,o){if(function(t,e){return\"string\"==typeof e&&t.test(e)}(t,e))return o;if(function(t,e){return e.stops&&e.stops.filter((function(e){return t.test(e[1])})).length>0}(t,e)){var r=e.stops.map((function(e){return t.test(e[1])?[e[0],o]:e}));return Object.assign({},e,{stops:r})}return e}e.prototype.setLanguage=function(t,e){if(this.supportedLanguages.indexOf(e)<0)throw new Error(\"Language \"+e+\" is not supported\");var r=this._languageSource||function(t){return Object.keys(t.sources).filter((function(e){var o=t.sources[e];return/mapbox-streets-v\\d/.test(o.url)}))[0]}(t);if(!r)return t;var n=this._getLanguageField(e),i=this._isLanguageField,a=this._excludedLayerIds,s=t.layers.map((function(t){return t.source===r?function(t,e,r,n){return e.layout&&e.layout[\"text-field\"]&&-1===n.indexOf(e.id)?Object.assign({},e,{layout:Object.assign({},e.layout,{\"text-field\":o(t,e.layout[\"text-field\"],r)})}):e}(i,t,n,a):t})),l=Object.assign({},t,{layers:s});return this._languageTransform(l,e)},e.prototype._initialStyleUpdate=function(){var t=this._map.getStyle(),e=this._defaultLanguage||function(t){var e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,o=e.split(\"-\"),r=e;o.length>1&&(r=o[0]);if(t.indexOf(r)>-1)return r;return null}(this.supportedLanguages);this._map.off(\"styledata\",this._initialStyleUpdate),this._map.setStyle(this.setLanguage(t,e))},e.prototype.onAdd=function(t){return this._map=t,this._map.on(\"styledata\",this._initialStyleUpdate),this._container=document.createElement(\"div\"),this._container},e.prototype.onRemove=function(){this._map.off(\"styledata\",this._initialStyleUpdate),this._map=void 0},t.exports=e})),nt=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),f(g(t),\"_setLanguage\",(function(){var e=t.props.language,o=t._map,r=t._control;e&&o.setStyle(r.setLanguage(o.getStyle(),e))})),t}return h(n,[{key:\"componentDidMount\",value:function(){var t=this._map,e=this.props,o=e.supportedLanguages,r=e.languageTransform,n=e.languageField,i=e.getLanguageField,a=e.languageSource,s=e.defaultLanguage,l=new rt({supportedLanguages:o,languageTransform:r,languageField:n,getLanguageField:i,languageSource:a,defaultLanguage:s});t.addControl(l),this._control=l}},{key:\"componentDidUpdate\",value:function(t){t.language!==this.props.language&&this._setLanguage()}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(nt,\"defaultProps\",{});var it=ot((function(t){var e=[{id:\"traffic-street-link-bg\",type:\"line\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},source:\"mapbox://mapbox.mapbox-traffic-v1\",\"source-layer\":\"traffic\",minzoom:15,filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"all\",[\"has\",\"congestion\"],[\"in\",\"class\",\"link\",\"motorway_link\",\"service\",\"street\"]]],layout:{visibility:\"visible\",\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-width\":{base:1.5,stops:[[14,2.5],[20,15.5]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(145, 95%, 30%)\"],[\"moderate\",\"hsl(30, 100%, 42%)\"],[\"heavy\",\"hsl(355, 100%, 37%)\"],[\"severe\",\"hsl(355, 70%, 22%)\"]]},\"line-offset\":{base:1.5,stops:[[14,2],[20,18]]},\"line-opacity\":{base:1,stops:[[15,0],[16,1]]}}},{id:\"traffic-secondary-tertiary-bg\",type:\"line\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},source:\"mapbox://mapbox.mapbox-traffic-v1\",\"source-layer\":\"traffic\",minzoom:6,filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"all\",[\"has\",\"congestion\"],[\"in\",\"class\",\"secondary\",\"tertiary\"]]],layout:{visibility:\"visible\",\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-width\":{base:1.5,stops:[[9,1.5],[18,11],[20,16.5]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(145, 95%, 30%)\"],[\"moderate\",\"hsl(30, 100%, 42%)\"],[\"heavy\",\"hsl(355, 100%, 37%)\"],[\"severe\",\"hsl(355, 70%, 22%)\"]]},\"line-offset\":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},\"line-opacity\":{base:1,stops:[[13,0],[14,1]]}}},{id:\"traffic-primary-bg\",type:\"line\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},source:\"mapbox://mapbox.mapbox-traffic-v1\",\"source-layer\":\"traffic\",minzoom:6,filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"all\",[\"==\",\"class\",\"primary\"],[\"has\",\"congestion\"]]],layout:{visibility:\"visible\",\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-width\":{base:1.5,stops:[[10,.75],[15,6],[20,18]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(145, 95%, 30%)\"],[\"moderate\",\"hsl(30, 100%, 42%)\"],[\"heavy\",\"hsl(355, 100%, 37%)\"],[\"severe\",\"hsl(355, 70%, 22%)\"]]},\"line-offset\":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},\"line-opacity\":{base:1,stops:[[11,0],[12,1]]}}},{id:\"traffic-trunk-bg\",type:\"line\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},source:\"mapbox://mapbox.mapbox-traffic-v1\",\"source-layer\":\"traffic\",minzoom:6,filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"all\",[\"==\",\"class\",\"trunk\"],[\"has\",\"congestion\"]]],layout:{visibility:\"visible\",\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-width\":{base:1.5,stops:[[8,.5],[9,2.25],[18,13],[20,17.5]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(145, 95%, 30%)\"],[\"moderate\",\"hsl(30, 100%, 42%)\"],[\"heavy\",\"hsl(355, 100%, 37%)\"],[\"severe\",\"hsl(355, 70%, 22%)\"]]},\"line-offset\":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},\"line-opacity\":1}},{id:\"traffic-motorway-bg\",type:\"line\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},source:\"mapbox://mapbox.mapbox-traffic-v1\",\"source-layer\":\"traffic\",minzoom:6,filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"all\",[\"==\",\"class\",\"motorway\"],[\"has\",\"congestion\"]]],layout:{visibility:\"visible\",\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-width\":{base:1.5,stops:[[6,.5],[9,3],[18,16],[20,20]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(145, 95%, 30%)\"],[\"moderate\",\"hsl(30, 100%, 42%)\"],[\"heavy\",\"hsl(355, 100%, 37%)\"],[\"severe\",\"hsl(355, 70%, 22%)\"]]},\"line-opacity\":1,\"line-offset\":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}},{id:\"traffic-primary\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},ref:\"traffic-primary-bg\",paint:{\"line-width\":{base:1.5,stops:[[10,1],[15,4],[20,16]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(142, 55%, 50%)\"],[\"moderate\",\"hsl(30, 100%, 55%)\"],[\"heavy\",\"hsl(355, 100%, 50%)\"],[\"severe\",\"hsl(355, 70%, 35%)\"]]},\"line-offset\":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},\"line-opacity\":1}},{id:\"traffic-secondary-tertiary\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},ref:\"traffic-secondary-tertiary-bg\",paint:{\"line-width\":{base:1.5,stops:[[9,.5],[18,9],[20,14]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(142, 55%, 50%)\"],[\"moderate\",\"hsl(30, 100%, 55%)\"],[\"heavy\",\"hsl(355, 100%, 50%)\"],[\"severe\",\"hsl(355, 70%, 35%)\"]]},\"line-offset\":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},\"line-opacity\":1}},{id:\"traffic-street-link\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},ref:\"traffic-street-link-bg\",paint:{\"line-width\":{base:1.5,stops:[[14,1.5],[20,13.5]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(142, 55%, 50%)\"],[\"moderate\",\"hsl(30, 100%, 55%)\"],[\"heavy\",\"hsl(355, 100%, 50%)\"],[\"severe\",\"hsl(355, 70%, 35%)\"]]},\"line-offset\":{base:1.5,stops:[[14,2],[20,18]]},\"line-opacity\":1}},{id:\"traffic-trunk\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},ref:\"traffic-trunk-bg\",paint:{\"line-width\":{base:1.5,stops:[[8,.75],[18,11],[20,15]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(142, 55%, 50%)\"],[\"moderate\",\"hsl(30, 100%, 55%)\"],[\"heavy\",\"hsl(355, 100%, 50%)\"],[\"severe\",\"hsl(355, 70%, 35%)\"]]},\"line-offset\":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},\"line-opacity\":1}},{id:\"traffic-motorway\",metadata:{\"mapbox:group\":\"4053de47c16e55481b10fd748eaa994c\"},ref:\"traffic-motorway-bg\",paint:{\"line-width\":{base:1.5,stops:[[6,.5],[9,1.5],[18,14],[20,18]]},\"line-color\":{base:1,type:\"categorical\",property:\"congestion\",stops:[[\"low\",\"hsl(142, 55%, 50%)\"],[\"moderate\",\"hsl(30, 100%, 55%)\"],[\"heavy\",\"hsl(355, 100%, 50%)\"],[\"severe\",\"hsl(355, 70%, 35%)\"]]},\"line-opacity\":1,\"line-offset\":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}}];function o(t){if(!(this instanceof o))throw new Error(\"MapboxTraffic needs to be called with the new keyword\");this.options=Object.assign({showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\\d/},t),this.render=this.render.bind(this),this.toggleTraffic=this.toggleTraffic.bind(this),this._hideTraffic=this._hideTraffic.bind(this),this._showTraffic=this._showTraffic.bind(this),this._hasTraffic=this._hasTraffic.bind(this),this._toggle=new r({show:this.options.showTrafficButton,onToggle:this.toggleTraffic.bind(this)})}function r(t){var e;t=Object.assign({show:!0,onToggle:function(){}},t),this._btn=((e=document.createElement(\"button\")).className=\"mapboxgl-ctrl-icon mapboxgl-ctrl-traffic\",e.type=\"button\",e[\"aria-label\"]=\"Inspect\",e),this._btn.onclick=t.onToggle,this.elem=function(t,e){var o=document.createElement(\"div\");return o.className=\"mapboxgl-ctrl mapboxgl-ctrl-group\",o.appendChild(t),e||(o.style.display=\"none\"),o}(this._btn,t.show)}o.prototype._hasTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;return Object.keys(t.sources).filter((function(t){return e.test(t)})).length>0},o.prototype.toggleTraffic=function(){this.options.showTraffic=!this.options.showTraffic,this.render()},o.prototype.render=function(){if(!this._hasTraffic()){this._map.addSource(\"mapbox://mapbox.mapbox-traffic-v1\",{type:\"vector\",url:\"mapbox://mapbox.mapbox-traffic-v1\"});var t=this._map.getStyle().layers.filter((function(t){return\"road\"===t[\"source-layer\"]})),o=t[t.length-1].id,r=function(t,e,o){for(var r=0;r<t.layers.length;r++)if(o===t.layers[r].id){var n=t.layers.slice(0,r).concat(e).concat(t.layers.slice(r));return Object.assign({},t,{layers:n})}return t}(this._map.getStyle(),e,o);this._map.setStyle(r)}this.options.showTraffic?(this._showTraffic(),this._toggle.setMapIcon()):(this._hideTraffic(),this._toggle.setTrafficIcon())},o.prototype._hideTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;t.layers.forEach((function(t){e.test(t.source)&&(t.layout=t.layout||{},t.layout.visibility=\"none\")})),this._map.setStyle(t)},o.prototype._showTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;t.layers.forEach((function(t){e.test(t.source)&&(t.layout=t.layout||{},t.layout.visibility=\"visible\")})),this._map.setStyle(t)},o.prototype.onAdd=function(t){return this._map=t,t.on(\"load\",this.render),this._toggle.elem},o.prototype.onRemove=function(){this._map.off(\"load\",this.render);var t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0},r.prototype.setTrafficIcon=function(){this._btn.className=\"mapboxgl-ctrl-icon mapboxgl-ctrl-traffic\"},r.prototype.setMapIcon=function(){this._btn.className=\"mapboxgl-ctrl-icon mapboxgl-ctrl-map\"},t.exports=o})),at=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),f(g(t),\"_control\",void 0),f(g(t),\"_addControl\",(function(){var e=t.props,o=e.showTraffic,r=e.showTrafficButton,n=e.trafficSource,i=new it({showTraffic:o,showTrafficButton:r,trafficSource:n});t._map.addControl(i),t._control=i})),t}return h(n,[{key:\"componentDidMount\",value:function(){this._addControl()}},{key:\"componentDidUpdate\",value:function(t){t.showTraffic!==this.props.showTraffic&&this._control.toggleTraffic(),(t.showTrafficButton!==this.props.showTrafficButton||t.trafficSource!==this.props.trafficSource)&&(this._map.removeControl(this._control),this._addControl())}},{key:\"componentWillUnmount\",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:\"getControl\",value:function(){return this._control}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(at,\"defaultProps\",{showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\\d/});var st=function(t){d(n,o);var r=b(n);function n(){var t;p(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return f(g(t=r.call.apply(r,[this].concat(o))),\"_map\",void 0),t}return h(n,[{key:\"componentDidMount\",value:function(){this._setFilter()}},{key:\"componentDidUpdate\",value:function(t){var e=t.filter,o=t.validate,r=this.props,n=r.filter,i=r.validate;(!j(e,n)||o!==i)&&this._setFilter()}},{key:\"componentWillUnmount\",value:function(){if(this._map&&this._map.getStyle()){var t=this.props.layerId;void 0!==this._map.getLayer(t)&&this._map.setFilter(t,void 0)}}},{key:\"_setFilter\",value:function(){var t=this.props,e=t.layerId,o=t.filter,r=t.validate;void 0!==this._map.getLayer(e)&&(Array.isArray(o)?this._map.setFilter(e,o,{validate:r}):this._map.setFilter(e,void 0))}},{key:\"render\",value:function(){var t=this;return e(L.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),n}();f(st,\"defaultProps\",{validate:!0});export{Q as AttributionControl,I as CustomLayer,J as FeatureState,st as Filter,X as FullscreenControl,Y as GeolocateControl,K as Image,nt as LanguageControl,M as Layer,L as MapContext,G as Marker,tt as NavigationControl,H as Popup,et as ScaleControl,q as Source,at as TrafficControl,W as default};\n//# sourceMappingURL=react-map-gl.esm.js.map\n","export default [\n  {\n    'id': 'gl-draw-polygon-fill-inactive',\n    'type': 'fill',\n    'filter': ['all',\n      ['==', 'active', 'false'],\n      ['==', '$type', 'Polygon'],\n      ['!=', 'mode', 'static']\n    ],\n    'paint': {\n      'fill-color': '#3bb2d0',\n      'fill-outline-color': '#3bb2d0',\n      'fill-opacity': 0.1\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-fill-active',\n    'type': 'fill',\n    'filter': ['all', ['==', 'active', 'true'], ['==', '$type', 'Polygon']],\n    'paint': {\n      'fill-color': '#fbb03b',\n      'fill-outline-color': '#fbb03b',\n      'fill-opacity': 0.1\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-midpoint',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'midpoint']],\n    'paint': {\n      'circle-radius': 3,\n      'circle-color': '#fbb03b'\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-stroke-inactive',\n    'type': 'line',\n    'filter': ['all',\n      ['==', 'active', 'false'],\n      ['==', '$type', 'Polygon'],\n      ['!=', 'mode', 'static']\n    ],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#3bb2d0',\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-stroke-active',\n    'type': 'line',\n    'filter': ['all', ['==', 'active', 'true'], ['==', '$type', 'Polygon']],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#fbb03b',\n      'line-dasharray': [0.2, 2],\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-line-inactive',\n    'type': 'line',\n    'filter': ['all',\n      ['==', 'active', 'false'],\n      ['==', '$type', 'LineString'],\n      ['!=', 'mode', 'static']\n    ],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#3bb2d0',\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-line-active',\n    'type': 'line',\n    'filter': ['all',\n      ['==', '$type', 'LineString'],\n      ['==', 'active', 'true']\n    ],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#fbb03b',\n      'line-dasharray': [0.2, 2],\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-and-line-vertex-stroke-inactive',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', 'meta', 'vertex'],\n      ['==', '$type', 'Point'],\n      ['!=', 'mode', 'static']\n    ],\n    'paint': {\n      'circle-radius': 5,\n      'circle-color': '#fff'\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-and-line-vertex-inactive',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', 'meta', 'vertex'],\n      ['==', '$type', 'Point'],\n      ['!=', 'mode', 'static']\n    ],\n    'paint': {\n      'circle-radius': 3,\n      'circle-color': '#fbb03b'\n    }\n  },\n  {\n    'id': 'gl-draw-point-point-stroke-inactive',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', 'active', 'false'],\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'feature'],\n      ['!=', 'mode', 'static']\n    ],\n    'paint': {\n      'circle-radius': 5,\n      'circle-opacity': 1,\n      'circle-color': '#fff'\n    }\n  },\n  {\n    'id': 'gl-draw-point-inactive',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', 'active', 'false'],\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'feature'],\n      ['!=', 'mode', 'static']\n    ],\n    'paint': {\n      'circle-radius': 3,\n      'circle-color': '#3bb2d0'\n    }\n  },\n  {\n    'id': 'gl-draw-point-stroke-active',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', '$type', 'Point'],\n      ['==', 'active', 'true'],\n      ['!=', 'meta', 'midpoint']\n    ],\n    'paint': {\n      'circle-radius': 7,\n      'circle-color': '#fff'\n    }\n  },\n  {\n    'id': 'gl-draw-point-active',\n    'type': 'circle',\n    'filter': ['all',\n      ['==', '$type', 'Point'],\n      ['!=', 'meta', 'midpoint'],\n      ['==', 'active', 'true']],\n    'paint': {\n      'circle-radius': 5,\n      'circle-color': '#fbb03b'\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-fill-static',\n    'type': 'fill',\n    'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Polygon']],\n    'paint': {\n      'fill-color': '#404040',\n      'fill-outline-color': '#404040',\n      'fill-opacity': 0.1\n    }\n  },\n  {\n    'id': 'gl-draw-polygon-stroke-static',\n    'type': 'line',\n    'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Polygon']],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#404040',\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-line-static',\n    'type': 'line',\n    'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'LineString']],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round'\n    },\n    'paint': {\n      'line-color': '#404040',\n      'line-width': 2\n    }\n  },\n  {\n    'id': 'gl-draw-point-static',\n    'type': 'circle',\n    'filter': ['all', ['==', 'mode', 'static'], ['==', '$type', 'Point']],\n    'paint': {\n      'circle-radius': 5,\n      'circle-color': '#404040'\n    }\n  }\n];\n","// @flow\n\nimport * as React from 'react';\nimport { MapContext } from './react-map-gl.esm';\nimport MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport theme from '@mapbox/mapbox-gl-draw/src/lib/theme';\n\nconst modes = MapboxDraw.modes;\n\nexport type Props = {\n  /** Draw controls position */\n  position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right',\n\n  /** Whether or not to enable keyboard interactions for drawing. */\n  keybindings?: boolean,\n\n  /** Whether or not to enable touch interactions for drawing. */\n  touchEnabled?: boolean,\n\n  /**\n   * Whether or not to enable box selection of features with shift+click+drag.\n   * If false, shift+click+drag zooms into an area.\n   */\n  boxSelect?: boolean,\n\n  /**\n   * Number of pixels around any feature or vertex (in every direction)\n   * that will respond to a click.\n   */\n  clickBuffer?: number,\n\n  /**\n   * Number of pixels around any feature of vertex (in every direction)\n   * that will respond to a touch.\n   */\n  touchBuffer?: number,\n\n  /** Hide or show Point Control. */\n  pointControl?: boolean,\n\n  /** Hide or show Line String Control. */\n  lineStringControl?: boolean,\n\n  /** Hide or show Polygon Control. */\n  polygonControl?: boolean,\n\n  /** Hide or show Trash Control. */\n  trashControl?: boolean,\n\n  /** Hide or show Combine Features Control. */\n  combineFeaturesControl?: boolean,\n\n  /** Hide or show Uncombine Features Control. */\n  uncombineFeaturesControl?: boolean,\n\n  /**\n   *  The default value for controls. For example, if you would like all\n   *  controls to be off by default, and specify a whitelist with controls,\n   *  use displayControlsDefault: false.\n   */\n  displayControlsDefault?: boolean,\n\n  /** An array of map style objects. */\n  styles?: Array<Object>,\n\n  /**\n   * Over ride the default modes with your own.\n   * Can accepts a function. That function will receive the default modes as the\n   * first argument\n   */\n  modes?: Object | Function,\n\n  /** The mode that will used. */\n  mode?: String,\n\n  /** The mode options. */\n  modeOptions?: Object,\n\n  /**\n   * Properties of a feature will also be available for styling\n   * and prefixed with user_, e.g., ['==', 'user_custom_label', 'Example']\n   */\n  userProperties?: boolean,\n\n  /** Valid geoJSON to edit with Draw. */\n  data?: Object,\n\n  /**\n   * Fired when a feature is created.\n   * The following interactions will trigger this event:\n   * • Finish drawing a feature. Simply clicking will create a Point.\n   *   A LineString or Polygon is only created when the user\n   *   has finished drawing it — i.e. double-clicked the last vertex\n   *   or hit Enter — and the drawn feature is valid.\n   */\n  onDrawCreate?: Function,\n\n  /**\n   * Fired when one or more features are deleted.\n   * The following interactions will trigger this event:\n   * • Click the trash button when one or more features are selected\n   *   in simple_select mode.\n   * • Hit the Backspace or Delete keys when one or features are selected\n   *   in simple_select mode.\n   * • Invoke draw.trash() when you have a feature selected in\n   *   simple_select mode.\n   */\n  onDrawDelete?: Function,\n\n  /**\n   * Fired when features are combined. The following interactions will\n   * trigger this event:\n   * • Click the Combine button when more than one features are selected\n   *   in simple_select mode.\n   * • Invoke draw.combineFeatures() when more than one features are selected\n   *   in simple_select mode.\n   */\n  onDrawCombine?: Function,\n\n  /**\n   * Fired when features are uncombined. The following interactions will\n   * trigger this event:\n   * • Click the Uncombine button when one or more multifeatures are selected\n   *   in simple_select mode. Non-multifeatures may also be selected.\n   * • Invoke draw.uncombineFeatures() when one or more multifeatures are\n   *   selected in simple_select mode. Non-multifeatures may also be selected.\n   */\n  onDrawUncombine?: Function,\n\n  /**\n   * Fired when one or more features are updated. The following interactions\n   * will trigger this event, which can be subcategorized by action:\n   * • `action: 'move'`\n   *   • Finish moving one or more selected features in `simple_select` mode.\n   *      The event will only fire when the movement is finished\n   *      (i.e. when the user releases the mouse button or hits Enter).\n   * • `action: 'change_coordinates'`\n   *   • Finish moving one or more vertices of a selected feature in\n   *     `direct_select` mode. The event will only fire when the movement\n   *     is finished (i.e. when the user releases the mouse button or\n   *     hits Enter, or her mouse leaves the map container).\n   *   • Delete one or more vertices of a selected feature in `direct_select`\n   *     mode, which can be done by hitting the Backspace or Delete keys,\n   *     clicking the Trash button, or invoking draw.trash().\n   *   • Add a vertex to the selected feature by clicking a midpoint on that\n   *     feature in direct_select mode.\n   * This event will not fire when a feature is created or deleted. To track\n   * those interactions, listen for draw.create and draw.delete events.\n   */\n  onDrawUpdate?: Function,\n\n  /**\n   * Fired when the selection is changed (i.e. one or more features are selected\n   * or deselected). The following interactions will trigger this event:\n   * • Click on a feature to select it.\n   * • When a feature is already selected, shift-click on another feature to add\n   *   it to the selection.\n   * • Click on a vertex to select it.\n   * • When a vertex is already selected, shift-click on another vertex to add\n   *   it to the selection.\n   * • Create a box-selection that includes at least one feature.\n   * • Click outside the selected feature(s) to deselect.\n   * • Click away from the selected vertex(s) to deselect.\n   * • Finish drawing a feature (features are selected just after they are\n   *   created).\n   * • When a feature is already selected, invoke draw.changeMode() such that\n   *   the feature becomes deselected.\n   * • Use `draw.changeMode('simple_select', { featureIds: [..] })` to switch to\n   *   `simple_select` mode and immediately select the specified features.\n   * • Use `draw.delete`, `draw.deleteAll` or `draw.trash` to delete feature(s).\n   */\n  onDrawSelectionChange?: Function,\n\n  /**\n   * Fired when the mode is changed. The following interactions will trigger\n   * this event:\n   * • Click the point, line, or polygon buttons to begin drawing (enter a\n   *   `draw_*` mode).\n   * • Finish drawing a feature (enter `simple_select` mode).\n   * • While in `simple_select` mode, click on an already selected feature\n   *   (enter `direct_select` mode).\n   * • While in `direct_select` mode, click outside all features (enter\n   *   `simple_select` mode).\n   * This event is fired just after the current mode stops and just before\n   * the next mode starts. A render will not happen until after all event\n   * handlers have been triggered, so you can force a mode redirect by calling\n   * `draw.changeMode()` inside a `draw.modechange` handler.\n   */\n  onDrawModeChange?: Function,\n\n  /**\n   * Fired just after Draw calls `setData()` on the Mapbox GL JS map. This does\n   * not imply that the set data call has finished updating the map, just that\n   * the map is being updated.\n   */\n  onDrawRender?: Function,\n\n  /**\n   * Fired as the state of Draw changes to enable and disable different actions.\n   * Following this event will enable you know if `draw.trash()`,\n   * `draw.combineFeatures()` and draw.uncombineFeatures() will have an effect.\n   */\n  onDrawActionable?: Function,\n\n  /**\n   * Fired when features are changed. (`draw.create`, `draw.delete`,\n   * `draw.combine`, `draw.uncombine`, `draw.update`).\n   */\n  onChange?: Function\n};\n\nclass Draw extends React.PureComponent<Props> {\n  static defaultProps = {\n    position: 'top-right',\n    keybindings: true,\n    touchEnabled: true,\n    boxSelect: true,\n    clickBuffer: 2,\n    touchBuffer: 25,\n    pointControl: true,\n    lineStringControl: true,\n    polygonControl: true,\n    trashControl: true,\n    combineFeaturesControl: true,\n    uncombineFeaturesControl: true,\n    displayControlsDefault: true,\n    styles: theme,\n    modes,\n    mode: 'simple_select',\n    modeOptions: {},\n    userProperties: false,\n    data: null,\n    onDrawCreate: null,\n    onDrawDelete: null,\n    onDrawCombine: null,\n    onDrawUncombine: null,\n    onDrawUpdate: null,\n    onDrawSelectionChange: null,\n    onDrawModeChange: null,\n    onDrawRender: null,\n    onDrawActionable: null,\n    onChange: null\n  };\n\n  componentDidMount() {\n    this._createControl();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.data) {\n      // $FlowFixMe\n      this._draw.set(this.props.data);\n    }\n\n    if (prevProps.position !== this.props.position) {\n      this._removeControl()\n      this._createControl();\n    }\n\n    if (prevProps.mode !== this.props.mode) {\n      // $FlowFixMe\n      this._draw.changeMode(this.props.mode, this.props.modeOptions);\n    }\n  }\n\n  componentWillUnmount(): void {\n    this._removeControl()\n  }\n\n  getDraw() {\n    // $FlowFixMe\n    return this._draw;\n  }\n\n  _createControl = () => {\n    // $FlowFixMe\n    const map = this._map;\n    // $FlowFixMe\n    this._draw = new MapboxDraw({\n      keybindings: this.props.keybindings,\n      touchEnabled: this.props.touchEnabled,\n      boxSelect: this.props.boxSelect,\n      clickBuffer: this.props.clickBuffer,\n      touchBuffer: this.props.touchBuffer,\n      controls: {\n        point: this.props.pointControl,\n        line_string: this.props.lineStringControl,\n        polygon: this.props.polygonControl,\n        trash: this.props.trashControl,\n        combine_features: this.props.combineFeaturesControl,\n        uncombine_features: this.props.uncombineFeaturesControl\n      },\n      displayControlsDefault: this.props.displayControlsDefault,\n      styles: this.props.styles,\n      modes: typeof this.props.modes === 'function'\n        ? this.props.modes(this.constructor.defaultProps.modes)\n        : this.props.modes,\n      defaultMode: this.props.mode,\n      userProperties: this.props.userProperties\n    });\n\n    map.addControl(this._draw, this.props.position);\n    map.on('draw.create', this._onDrawCreate);\n    map.on('draw.create', this._onChange);\n    map.on('draw.delete', this._onDrawDelete);\n    map.on('draw.delete', this._onChange);\n    map.on('draw.combine', this._onDrawCombine);\n    map.on('draw.combine', this._onChange);\n    map.on('draw.uncombine', this._onDrawUncombine);\n    map.on('draw.uncombine', this._onChange);\n    map.on('draw.update', this._onDrawUpdate);\n    map.on('draw.update', this._onChange);\n    map.on('draw.selectionchange', this._onDrawSelectionchange);\n    map.on('draw.modechange', this._onDrawModechange);\n    map.on('draw.render', this._onDrawRender);\n    map.on('draw.actionable', this._onDrawActionable);\n\n    if (this.props.data) {\n      // $FlowFixMe\n      this._draw.add(this.props.data);\n    }\n  };\n\n  _removeControl = () => {\n    // $FlowFixMe\n    const map = this._map;\n\n    if (!map || !map.getStyle()) {\n      return;\n    }\n\n    map.off('draw.create', this._onDrawCreate);\n    map.off('draw.create', this._onChange);\n    map.off('draw.delete', this._onDrawDelete);\n    map.off('draw.delete', this._onChange);\n    map.off('draw.combine', this._onDrawCombine);\n    map.off('draw.combine', this._onChange);\n    map.off('draw.uncombine', this._onDrawUncombine);\n    map.off('draw.uncombine', this._onChange);\n    map.off('draw.update', this._onDrawUpdate);\n    map.off('draw.update', this._onChange);\n    map.off('draw.selectionchange', this._onDrawSelectionchange);\n    map.off('draw.modechange', this._onDrawModechange);\n    map.off('draw.render', this._onDrawRender);\n    map.off('draw.actionable', this._onDrawActionable);\n\n    // $FlowFixMe\n    map.removeControl(this._draw);\n  }\n\n  _onChange = () => {\n    const { onChange } = this.props;\n\n    if (onChange) {\n      // $FlowFixMe\n      const allFeatures = this._draw.getAll();\n      onChange(allFeatures);\n    }\n  };\n\n  _onDrawCreate = (event: Object) => {\n    if (this.props.onDrawCreate) {\n      this.props.onDrawCreate(event);\n    }\n  };\n\n  _onDrawDelete = (event: Object) => {\n    if (this.props.onDrawDelete) {\n      this.props.onDrawDelete(event);\n    }\n  };\n\n  _onDrawCombine = (event: Object) => {\n    if (this.props.onDrawCombine) {\n      this.props.onDrawCombine(event);\n    }\n  };\n\n  _onDrawUncombine = (event: Object) => {\n    if (this.props.onDrawUncombine) {\n      this.props.onDrawUncombine(event);\n    }\n  };\n\n  _onDrawUpdate = (event: Object) => {\n    if (this.props.onDrawUpdate) {\n      this.props.onDrawUpdate(event);\n    }\n  };\n\n  _onDrawSelectionchange = (event: Object) => {\n    if (this.props.onDrawSelectionChange) {\n      this.props.onDrawSelectionChange(event);\n    }\n  };\n\n  _onDrawModechange = (event: Object) => {\n    if (this.props.onDrawModeChange) {\n      this.props.onDrawModeChange(event);\n    }\n  };\n\n  _onDrawRender = (event: Object) => {\n    if (this.props.onDrawRender) {\n      this.props.onDrawRender(event);\n    }\n  };\n\n  _onDrawActionable = (event: Object) => {\n    if (this.props.onDrawActionable) {\n      this.props.onDrawActionable(event);\n    }\n  };\n\n  render() {\n    return React.createElement(MapContext.Consumer, {}, (map) => {\n      if (map) {\n        // $FlowFixMe\n        this._map = map;\n      }\n      return null;\n    });\n  }\n}\n\nexport default Draw;\n"],"names":["MapContext","modes","MapboxDraw","Draw","React","map","_map","_draw","keybindings","props","touchEnabled","boxSelect","clickBuffer","touchBuffer","controls","point","pointControl","line_string","lineStringControl","polygon","polygonControl","trash","trashControl","combine_features","combineFeaturesControl","uncombine_features","uncombineFeaturesControl","displayControlsDefault","styles","constructor","defaultProps","defaultMode","mode","userProperties","addControl","position","on","_onDrawCreate","_onChange","_onDrawDelete","_onDrawCombine","_onDrawUncombine","_onDrawUpdate","_onDrawSelectionchange","_onDrawModechange","_onDrawRender","_onDrawActionable","data","add","getStyle","off","removeControl","onChange","allFeatures","getAll","event","onDrawCreate","onDrawDelete","onDrawCombine","onDrawUncombine","onDrawUpdate","onDrawSelectionChange","onDrawModeChange","onDrawRender","onDrawActionable","componentDidMount","_createControl","componentDidUpdate","prevProps","set","_removeControl","changeMode","modeOptions","componentWillUnmount","getDraw","render","Consumer","theme"],"mappings":";;;;;;;;;;;;;;;;;;;;AAMMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNN,YAAe,CACb;AACE,QAAM,+BADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAHQ,CAHZ;AAQE,WAAS;AACP,kBAAc,SADP;AAEP,0BAAsB,SAFf;AAGP,oBAAgB;AAHT;AARX,CADa,EAeb;AACE,QAAM,6BADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAAlC,CAHZ;AAIE,WAAS;AACP,kBAAc,SADP;AAEP,0BAAsB,SAFf;AAGP,oBAAgB;AAHT;AAJX,CAfa,EAyBb;AACE,QAAM,0BADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CADQ,EAER,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,CAFQ,CAHZ;AAME,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AANX,CAzBa,EAoCb;AACE,QAAM,iCADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAHQ,CAHZ;AAQE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GARZ;AAYE,WAAS;AACP,kBAAc,SADP;AAEP,kBAAc;AAFP;AAZX,CApCa,EAqDb;AACE,QAAM,+BADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAAlC,CAHZ;AAIE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GAJZ;AAQE,WAAS;AACP,kBAAc,SADP;AAEP,sBAAkB,CAAC,GAAD,EAAM,CAAN,CAFX;AAGP,kBAAc;AAHP;AARX,CArDa,EAmEb;AACE,QAAM,uBADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,YAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAHQ,CAHZ;AAQE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GARZ;AAYE,WAAS;AACP,kBAAc,SADP;AAEP,kBAAc;AAFP;AAZX,CAnEa,EAoFb;AACE,QAAM,qBADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,OAAP,EAAgB,YAAhB,CADQ,EAER,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAFQ,CAHZ;AAOE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GAPZ;AAWE,WAAS;AACP,kBAAc,SADP;AAEP,sBAAkB,CAAC,GAAD,EAAM,CAAN,CAFX;AAGP,kBAAc;AAHP;AAXX,CApFa,EAqGb;AACE,QAAM,iDADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAHQ,CAHZ;AAQE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AARX,CArGa,EAkHb;AACE,QAAM,0CADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAHQ,CAHZ;AAQE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AARX,CAlHa,EA+Hb;AACE,QAAM,qCADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,SAAf,CAHQ,EAIR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAJQ,CAHZ;AASE,WAAS;AACP,qBAAiB,CADV;AAEP,sBAAkB,CAFX;AAGP,oBAAgB;AAHT;AATX,CA/Ha,EA8Ib;AACE,QAAM,wBADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CADQ,EAER,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,SAAf,CAHQ,EAIR,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAJQ,CAHZ;AASE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AATX,CA9Ia,EA4Jb;AACE,QAAM,6BADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CADQ,EAER,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAFQ,EAGR,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,CAHQ,CAHZ;AAQE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AARX,CA5Ja,EAyKb;AACE,QAAM,sBADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EACR,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CADQ,EAER,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,CAFQ,EAGR,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAHQ,CAHZ;AAOE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AAPX,CAzKa,EAqLb;AACE,QAAM,6BADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAAlC,CAHZ;AAIE,WAAS;AACP,kBAAc,SADP;AAEP,0BAAsB,SAFf;AAGP,oBAAgB;AAHT;AAJX,CArLa,EA+Lb;AACE,QAAM,+BADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAAlC,CAHZ;AAIE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GAJZ;AAQE,WAAS;AACP,kBAAc,SADP;AAEP,kBAAc;AAFP;AARX,CA/La,EA4Mb;AACE,QAAM,qBADR;AAEE,UAAQ,MAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,YAAhB,CAAlC,CAHZ;AAIE,YAAU;AACR,gBAAY,OADJ;AAER,iBAAa;AAFL,GAJZ;AAQE,WAAS;AACP,kBAAc,SADP;AAEP,kBAAc;AAFP;AARX,CA5Ma,EAyNb;AACE,QAAM,sBADR;AAEE,UAAQ,QAFV;AAGE,YAAU,CAAC,KAAD,EAAQ,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,CAAR,EAAkC,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAAlC,CAHZ;AAIE,WAAS;AACP,qBAAiB,CADV;AAEP,oBAAgB;AAFT;AAJX,CAzNa,CAAf;;ACOA,MAAMC,KAAK,GAAGC,UAAU,CAACD,KAAzB;;AA4MA,MAAME,IAAN,SAAmBC,aAAnB,CAA8C;AAAA;AAAA;;AAAA,4CA+D3B,MAAM;AACrB;AACA,YAAMC,GAAG,GAAG,KAAKC,IAAjB,CAFqB;;AAIrB,WAAKC,KAAL,GAAa,IAAIL,UAAJ,CAAe;AAC1BM,QAAAA,WAAW,EAAE,KAAKC,KAAL,CAAWD,WADE;AAE1BE,QAAAA,YAAY,EAAE,KAAKD,KAAL,CAAWC,YAFC;AAG1BC,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAHI;AAI1BC,QAAAA,WAAW,EAAE,KAAKH,KAAL,CAAWG,WAJE;AAK1BC,QAAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWI,WALE;AAM1BC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,EAAE,KAAKN,KAAL,CAAWO,YADV;AAERC,UAAAA,WAAW,EAAE,KAAKR,KAAL,CAAWS,iBAFhB;AAGRC,UAAAA,OAAO,EAAE,KAAKV,KAAL,CAAWW,cAHZ;AAIRC,UAAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWa,YAJV;AAKRC,UAAAA,gBAAgB,EAAE,KAAKd,KAAL,CAAWe,sBALrB;AAMRC,UAAAA,kBAAkB,EAAE,KAAKhB,KAAL,CAAWiB;AANvB,SANgB;AAc1BC,QAAAA,sBAAsB,EAAE,KAAKlB,KAAL,CAAWkB,sBAdT;AAe1BC,QAAAA,MAAM,EAAE,KAAKnB,KAAL,CAAWmB,MAfO;AAgB1B3B,QAAAA,KAAK,EAAE,OAAO,KAAKQ,KAAL,CAAWR,KAAlB,KAA4B,UAA5B,GACH,KAAKQ,KAAL,CAAWR,KAAX,CAAiB,KAAK4B,WAAL,CAAiBC,YAAjB,CAA8B7B,KAA/C,CADG,GAEH,KAAKQ,KAAL,CAAWR,KAlBW;AAmB1B8B,QAAAA,WAAW,EAAE,KAAKtB,KAAL,CAAWuB,IAnBE;AAoB1BC,QAAAA,cAAc,EAAE,KAAKxB,KAAL,CAAWwB;AApBD,OAAf,CAAb;AAuBA5B,MAAAA,GAAG,CAAC6B,UAAJ,CAAe,KAAK3B,KAApB,EAA2B,KAAKE,KAAL,CAAW0B,QAAtC;AACA9B,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKC,aAA3B;AACAhC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKE,SAA3B;AACAjC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKG,aAA3B;AACAlC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKE,SAA3B;AACAjC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,cAAP,EAAuB,KAAKI,cAA5B;AACAnC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,cAAP,EAAuB,KAAKE,SAA5B;AACAjC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,gBAAP,EAAyB,KAAKK,gBAA9B;AACApC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,gBAAP,EAAyB,KAAKE,SAA9B;AACAjC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKM,aAA3B;AACArC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKE,SAA3B;AACAjC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,sBAAP,EAA+B,KAAKO,sBAApC;AACAtC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,iBAAP,EAA0B,KAAKQ,iBAA/B;AACAvC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,aAAP,EAAsB,KAAKS,aAA3B;AACAxC,MAAAA,GAAG,CAAC+B,EAAJ,CAAO,iBAAP,EAA0B,KAAKU,iBAA/B;;AAEA,UAAI,KAAKrC,KAAL,CAAWsC,IAAf,EAAqB;AACnB;AACA,aAAKxC,KAAL,CAAWyC,GAAX,CAAe,KAAKvC,KAAL,CAAWsC,IAA1B;AACD;AACF,KA9G2C;;AAAA,4CAgH3B,MAAM;AACrB;AACA,YAAM1C,GAAG,GAAG,KAAKC,IAAjB;;AAEA,UAAI,CAACD,GAAD,IAAQ,CAACA,GAAG,CAAC4C,QAAJ,EAAb,EAA6B;AAC3B;AACD;;AAED5C,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKb,aAA5B;AACAhC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKZ,SAA5B;AACAjC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKX,aAA5B;AACAlC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKZ,SAA5B;AACAjC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,cAAR,EAAwB,KAAKV,cAA7B;AACAnC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,cAAR,EAAwB,KAAKZ,SAA7B;AACAjC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,gBAAR,EAA0B,KAAKT,gBAA/B;AACApC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,gBAAR,EAA0B,KAAKZ,SAA/B;AACAjC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKR,aAA5B;AACArC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKZ,SAA5B;AACAjC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,sBAAR,EAAgC,KAAKP,sBAArC;AACAtC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,iBAAR,EAA2B,KAAKN,iBAAhC;AACAvC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,aAAR,EAAuB,KAAKL,aAA5B;AACAxC,MAAAA,GAAG,CAAC6C,GAAJ,CAAQ,iBAAR,EAA2B,KAAKJ,iBAAhC,EArBqB;;AAwBrBzC,MAAAA,GAAG,CAAC8C,aAAJ,CAAkB,KAAK5C,KAAvB;AACD,KAzI2C;;AAAA,uCA2IhC,MAAM;AAChB,YAAM;AAAE6C,QAAAA;AAAF,UAAe,KAAK3C,KAA1B;;AAEA,UAAI2C,QAAJ,EAAc;AACZ;AACA,cAAMC,WAAW,GAAG,KAAK9C,KAAL,CAAW+C,MAAX,EAApB;;AACAF,QAAAA,QAAQ,CAACC,WAAD,CAAR;AACD;AACF,KAnJ2C;;AAAA,2CAqJ3BE,KAAD,IAAmB;AACjC,UAAI,KAAK9C,KAAL,CAAW+C,YAAf,EAA6B;AAC3B,aAAK/C,KAAL,CAAW+C,YAAX,CAAwBD,KAAxB;AACD;AACF,KAzJ2C;;AAAA,2CA2J3BA,KAAD,IAAmB;AACjC,UAAI,KAAK9C,KAAL,CAAWgD,YAAf,EAA6B;AAC3B,aAAKhD,KAAL,CAAWgD,YAAX,CAAwBF,KAAxB;AACD;AACF,KA/J2C;;AAAA,4CAiK1BA,KAAD,IAAmB;AAClC,UAAI,KAAK9C,KAAL,CAAWiD,aAAf,EAA8B;AAC5B,aAAKjD,KAAL,CAAWiD,aAAX,CAAyBH,KAAzB;AACD;AACF,KArK2C;;AAAA,8CAuKxBA,KAAD,IAAmB;AACpC,UAAI,KAAK9C,KAAL,CAAWkD,eAAf,EAAgC;AAC9B,aAAKlD,KAAL,CAAWkD,eAAX,CAA2BJ,KAA3B;AACD;AACF,KA3K2C;;AAAA,2CA6K3BA,KAAD,IAAmB;AACjC,UAAI,KAAK9C,KAAL,CAAWmD,YAAf,EAA6B;AAC3B,aAAKnD,KAAL,CAAWmD,YAAX,CAAwBL,KAAxB;AACD;AACF,KAjL2C;;AAAA,oDAmLlBA,KAAD,IAAmB;AAC1C,UAAI,KAAK9C,KAAL,CAAWoD,qBAAf,EAAsC;AACpC,aAAKpD,KAAL,CAAWoD,qBAAX,CAAiCN,KAAjC;AACD;AACF,KAvL2C;;AAAA,+CAyLvBA,KAAD,IAAmB;AACrC,UAAI,KAAK9C,KAAL,CAAWqD,gBAAf,EAAiC;AAC/B,aAAKrD,KAAL,CAAWqD,gBAAX,CAA4BP,KAA5B;AACD;AACF,KA7L2C;;AAAA,2CA+L3BA,KAAD,IAAmB;AACjC,UAAI,KAAK9C,KAAL,CAAWsD,YAAf,EAA6B;AAC3B,aAAKtD,KAAL,CAAWsD,YAAX,CAAwBR,KAAxB;AACD;AACF,KAnM2C;;AAAA,+CAqMvBA,KAAD,IAAmB;AACrC,UAAI,KAAK9C,KAAL,CAAWuD,gBAAf,EAAiC;AAC/B,aAAKvD,KAAL,CAAWuD,gBAAX,CAA4BT,KAA5B;AACD;AACF,KAzM2C;AAAA;;AAiC5CU,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,cAAL;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAmB;AACnC,QAAI,KAAK3D,KAAL,CAAWsC,IAAf,EAAqB;AACnB;AACA,WAAKxC,KAAL,CAAW8D,GAAX,CAAe,KAAK5D,KAAL,CAAWsC,IAA1B;AACD;;AAED,QAAIqB,SAAS,CAACjC,QAAV,KAAuB,KAAK1B,KAAL,CAAW0B,QAAtC,EAAgD;AAC9C,WAAKmC,cAAL;;AACA,WAAKJ,cAAL;AACD;;AAED,QAAIE,SAAS,CAACpC,IAAV,KAAmB,KAAKvB,KAAL,CAAWuB,IAAlC,EAAwC;AACtC;AACA,WAAKzB,KAAL,CAAWgE,UAAX,CAAsB,KAAK9D,KAAL,CAAWuB,IAAjC,EAAuC,KAAKvB,KAAL,CAAW+D,WAAlD;AACD;AACF;;AAEDC,EAAAA,oBAAoB,GAAS;AAC3B,SAAKH,cAAL;AACD;;AAEDI,EAAAA,OAAO,GAAG;AACR;AACA,WAAO,KAAKnE,KAAZ;AACD;;AA8IDoE,EAAAA,MAAM,GAAG;AACP,WAAOvE,aAAA,CAAoBJ,CAAU,CAAC4E,QAA/B,EAAyC,EAAzC,EAA8CvE,GAAD,IAAS;AAC3D,UAAIA,GAAJ,EAAS;AACP;AACA,aAAKC,IAAL,GAAYD,GAAZ;AACD;;AACD,aAAO,IAAP;AACD,KANM,CAAP;AAOD;;AAnN2C;;gBAAxCF,sBACkB;AACpBgC,EAAAA,QAAQ,EAAE,WADU;AAEpB3B,EAAAA,WAAW,EAAE,IAFO;AAGpBE,EAAAA,YAAY,EAAE,IAHM;AAIpBC,EAAAA,SAAS,EAAE,IAJS;AAKpBC,EAAAA,WAAW,EAAE,CALO;AAMpBC,EAAAA,WAAW,EAAE,EANO;AAOpBG,EAAAA,YAAY,EAAE,IAPM;AAQpBE,EAAAA,iBAAiB,EAAE,IARC;AASpBE,EAAAA,cAAc,EAAE,IATI;AAUpBE,EAAAA,YAAY,EAAE,IAVM;AAWpBE,EAAAA,sBAAsB,EAAE,IAXJ;AAYpBE,EAAAA,wBAAwB,EAAE,IAZN;AAapBC,EAAAA,sBAAsB,EAAE,IAbJ;AAcpBC,EAAAA,MAAM,EAAEiD,KAdY;AAepB5E,EAAAA,KAfoB;AAgBpB+B,EAAAA,IAAI,EAAE,eAhBc;AAiBpBwC,EAAAA,WAAW,EAAE,EAjBO;AAkBpBvC,EAAAA,cAAc,EAAE,KAlBI;AAmBpBc,EAAAA,IAAI,EAAE,IAnBc;AAoBpBS,EAAAA,YAAY,EAAE,IApBM;AAqBpBC,EAAAA,YAAY,EAAE,IArBM;AAsBpBC,EAAAA,aAAa,EAAE,IAtBK;AAuBpBC,EAAAA,eAAe,EAAE,IAvBG;AAwBpBC,EAAAA,YAAY,EAAE,IAxBM;AAyBpBC,EAAAA,qBAAqB,EAAE,IAzBH;AA0BpBC,EAAAA,gBAAgB,EAAE,IA1BE;AA2BpBC,EAAAA,YAAY,EAAE,IA3BM;AA4BpBC,EAAAA,gBAAgB,EAAE,IA5BE;AA6BpBZ,EAAAA,QAAQ,EAAE;AA7BU;;;;"}